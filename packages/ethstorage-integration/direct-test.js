const { EthStorage } = require('ethstorage-sdk'); const dotenv = require('dotenv'); dotenv.config({ path: './.env-ethstorage' }); async function main() { try { const privateKey = process.env.ETHSTORAGE_PRIVATE_KEY.startsWith('0x') ? process.env.ETHSTORAGE_PRIVATE_KEY : '0x' + process.env.ETHSTORAGE_PRIVATE_KEY; console.log('Creating EthStorage...'); const ethStorage = await EthStorage.create({ rpc: process.env.ETHSTORAGE_RPC_URL, ethStorageRpc: process.env.ETHSTORAGE_RPC_URL, privateKey }); const testKey = 'test_' + Date.now(); const testData = Buffer.from('Hello from ElizaOS!'); console.log('Writing data...'); await ethStorage.write(testKey, testData); console.log('Reading data...'); const result = await ethStorage.read(testKey); console.log('Result:', result.data.toString()); } catch (e) { console.error(e); } } main();
